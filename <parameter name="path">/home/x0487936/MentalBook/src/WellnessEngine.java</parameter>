<parameter name="content">import java.util.*;
import java.time.*;

/**
 * WellnessEngine - Comprehensive Wellness System for VirtualXander
 * 
 * Features:
 * - Mood Tracking: Track mood entries with timestamps over time
 * - Emotional Support: Provide empathetic responses based on current mood
 * - Coping Strategies: Offer practical coping techniques for different emotions
 * - Mental Clarity: Thought organization, perspective clarity, decision support
 * - Life Balance: Energy management, priority reflection, wellness reminders
 */
public class WellnessEngine {
    
    private List<MoodEntry> moodHistory;
    private List<ThoughtEntry> thoughtHistory;
    private List<EnergyEntry> energyHistory;
    private List<PriorityEntry> priorities;
    private int maxHistorySize;
    private Random random;
    
    public WellnessEngine() {
        this.moodHistory = new ArrayList<>();
        this.thoughtHistory = new ArrayList<>();
        this.energyHistory = new ArrayList<>();
        this.priorities = new ArrayList<>();
        this.maxHistorySize = 365;
        this.random = new Random();
    }
    
    // ==================== INNER CLASSES ====================
    
    public static class MoodEntry {
        private LocalDateTime timestamp;
        private String mood;
        private double intensity;
        private String note;
        
        public MoodEntry(String mood, double intensity) {
            this.timestamp = LocalDateTime.now();
            this.mood = mood;
            this.intensity = intensity;
            this.note = "";
        }
        
        public MoodEntry(String mood, double intensity, String note) {
            this.timestamp = LocalDateTime.now();
            this.mood = mood;
            this.intensity = intensity;
            this.note = note;
        }
        
        public LocalDateTime getTimestamp() { return timestamp; }
        public String getMood() { return mood; }
        public double getIntensity() { return intensity; }
        public String getNote() { return note; }
        public LocalDate getDate() { return timestamp.toLocalDate(); }
        public void setNote(String note) { this.note = note; }
    }
    
    public static class ThoughtEntry {
        private LocalDateTime timestamp;
        private String thought;
        private String category;
        private List<String> tags;
        
        public ThoughtEntry(String thought, String category) {
            this.timestamp = LocalDateTime.now();
            this.thought = thought;
            this.category = category;
            this.tags = new ArrayList<>();
        }
        
        public LocalDateTime getTimestamp() { return timestamp; }
        public String getThought() { return thought; }
        public String getCategory() { return category; }
        public List<String> getTags() { return new ArrayList<>(tags); }
        public void addTag(String tag) { this.tags.add(tag); }
    }
    
    public static class EnergyEntry {
        private LocalDateTime timestamp;
        private EnergyLevel level;
        private String reason;
        private List<String> activities;
        
        public EnergyEntry(EnergyLevel level) {
            this.timestamp = LocalDateTime.now();
            this.level = level;
            this.reason = "";
            this.activities = new ArrayList<>();
        }
        
        public EnergyEntry(EnergyLevel level, String reason) {
            this.timestamp = LocalDateTime.now();
            this.level = level;
            this.reason = reason;
            this.activities = new ArrayList<>();
        }
        
        public LocalDateTime getTimestamp() { return timestamp; }
        public EnergyLevel getLevel() { return level; }
        public String getReason() { return reason; }
        public List<String> getActivities() { return new ArrayList<>(activities); }
        public LocalDate getDate() { return timestamp.toLocalDate(); }
        
        public void addActivity(String activity) { this.activities.add(activity); }
        
        public enum EnergyLevel {
            VERY_LOW("Very Low", 0.2),
            LOW("Low", 0.4),
            MODERATE("Moderate", 0.6),
            HIGH("High", 0.8),
            VERY_HIGH("Very High", 1.0);
            
            private final String name;
            private final double value;
            
            EnergyLevel(String name, double value) {
                this.name = name;
                this.value = value;
            }
            
            public String getName() { return name; }
            public double getValue() { return value; }
        }
    }
    
    public static class PriorityEntry {
        private LocalDateTime timestamp;
        private String priority;
        private String reason;
        private int rank;
        private boolean completed;
        
        public PriorityEntry(String priority, int rank) {
            this.timestamp = LocalDateTime.now();
            this.priority = priority;
            this.reason = "";
            this.rank = rank;
            this.completed = false;
        }
        
        public LocalDateTime getTimestamp() { return timestamp; }
        public String getPriority() { return priority; }
        public String getReason() { return reason; }
        public int getRank() { return rank; }
        public boolean isCompleted() { return completed; }
        
        public void setReason(String reason) { this.reason = reason; }
        public void setCompleted(boolean completed) { this.completed = completed; }
    }
    
    public static class MoodTrend {
        private String trendDirection;
        private double averageIntensity;
        private String dominantMood;
        private Map<String, Double> moodDistribution;
        
        public MoodTrend() { this.moodDistribution = new HashMap<>(); }
        
        public String getTrendDirection() { return trendDirection; }
        public void setTrendDirection(String d) { this.trendDirection = d; }
        public double getAverageIntensity() { return averageIntensity; }
        public void setAverageIntensity(double i) { this.averageIntensity = i; }
        public String getDominantMood() { return dominantMood; }
        public void setDominantMood(String m) { this.dominantMood = m; }
        public Map<String, Double> getMoodDistribution() { return new HashMap<>(moodDistribution); }
        public void addMoodCount(String mood, double count) { this.moodDistribution.put(mood, count); }
    }
    
    public static class MoodPattern {
        private String patternType;
        private String description;
        private double frequency;
        
        public MoodPattern(String patternType, String description, double frequency) {
            this.patternType = patternType;
            this.description = description;
            this.frequency = frequency;
        }
        
        public String getPatternType() { return patternType; }
        public String getDescription() { return description; }
        public double getFrequency() { return frequency; }
    }
    
    public static class CopingStrategy {
        private String emotion;
        private String strategy;
        private String description;
        private StrategyType type;
        
        public CopingStrategy(String emotion, String strategy, String description, StrategyType type) {
            this.emotion = emotion;
            this.strategy = strategy;
            this.description = description;
            this.type = type;
        }
        
        public String getEmotion() { return emotion; }
        public String getStrategy() { return strategy; }
        public String getDescription() { return description; }
        public StrategyType getType() { return type; }
        
        public enum StrategyType {
            BREATHING, MINDFULNESS, PHYSICAL, SOCIAL, COGNITIVE, SELF_CARE, CREATIVE, RELAXATION
        }
    }
    
    public static class DecisionSupport {
        private String decision;
        private List<String> pros;
        private List<String> cons;
        private List<String> questions;
        
        public DecisionSupport(String decision) {
            this.decision = decision;
            this.pros = new ArrayList<>();
            this.cons = new ArrayList<>();
            this.questions = new ArrayList<>();
        }
        
        public String getDecision() { return decision; }
        public List<String> getPros() { return new ArrayList<>(pros); }
        public List<String> getCons() { return new ArrayList<>(cons); }
        public List<String> getQuestions() { return new ArrayList<>(questions); }
        public void addPro(String pro) { this.pros.add(pro); }
        public void addCon(String con) { this.cons.add(con); }
        public void addQuestion(String question) { this.questions.add(question); }
    }
    
    public static class PerspectiveView {
        private String originalPerspective;
        private List<String> alternativeViews;
        
        public PerspectiveView(String originalPerspective) {
            this.originalPerspective = originalPerspective;
            this.alternativeViews = new ArrayList<>();
        }
        
        public String getOriginalPerspective() { return originalPerspective; }
        public List<String> getAlternativeViews() { return new ArrayList<>(alternativeViews); }
        public void addAlternativeView(String view) { this.alternativeViews.add(view); }
    }
    
    public static class WellnessReminder {
        private String message;
        private ReminderType type;
        private int priority;
        
        public WellnessReminder(String message, ReminderType type) {
            this.message = message;
            this.type = type;
            this.priority = 1;
        }
        
        public String getMessage() { return message; }
        public ReminderType getType() { return type; }
        public int getPriority() { return priority; }
        
        public void setPriority(int priority) { this.priority = priority; }
        
        public enum ReminderType {
            ENERGY("Energy"),
            SELF_CARE("Self-Care"),
            BREAK("Break"),
            HYDRATION("Hydration"),
            MOVEMENT("Movement"),
            SOCIAL("Social"),
            SLEEP("Sleep"),
            MINDFULNESS("Mindfulness");
            
            private final String name;
            ReminderType(String name) { this.name = name; }
            public String getName() { return name; }
        }
    }
    
    // ==================== MOOD TRACKING METHODS ====================
    
    public MoodEntry trackMood(String mood, double intensity) {
        MoodEntry entry = new MoodEntry(mood, intensity);
        moodHistory.add(entry);
        if (moodHistory.size() > maxHistorySize) moodHistory.remove(0);
        return entry;
    }
    
    public MoodEntry trackMood(String mood, double intensity, String note) {
        MoodEntry entry = new MoodEntry(mood, intensity, note);
        moodHistory.add(entry);
        if (moodHistory.size() > maxHistorySize) moodHistory.remove(0);
        return entry;
    }
    
    public List<MoodEntry> getMoodHistory() { return new ArrayList<>(moodHistory); }
    
    public List<MoodEntry> getMoodHistory(LocalDate startDate, LocalDate endDate) {
        List<MoodEntry> result = new ArrayList<>();
        for (MoodEntry entry : moodHistory) {
            LocalDate entryDate = entry.getDate();
            if (!entryDate.isBefore(startDate) && !entryDate.isAfter(endDate)) result.add(entry);
        }
        return result;
    }
    
    public List<MoodEntry> getTodaysMood() { return getMoodHistory(LocalDate.now(), LocalDate.now()); }
    
    public MoodEntry getLatestMood() { return moodHistory.isEmpty() ? null : moodHistory.get(moodHistory.size() - 1); }
    
    public MoodTrend analyzeTrend(int days) {
        MoodTrend trend = new MoodTrend();
        LocalDate endDate = LocalDate.now();
        LocalDate startDate = endDate.minusDays(days);
        List<MoodEntry> recentMoods = getMoodHistory(startDate, endDate);
        
        if (recentMoods.isEmpty()) {
            trend.setTrendDirection("no_data");
            trend.setAverageIntensity(0.0);
            trend.setDominantMood("unknown");
            return trend;
        }
        
        double avgIntensity = recentMoods.stream().mapToDouble(MoodEntry::getIntensity).average().orElse(0.0);
        trend.setAverageIntensity(avgIntensity);
        
        Map<String, Long> moodCounts = new HashMap<>();
        for (MoodEntry entry : recentMoods) moodCounts.merge(entry.getMood(), 1L, Long::sum);
        
        String dominantMood = moodCounts.entrySet().stream().max(Map.Entry.comparingByValue()).map(Map.Entry::getKey).orElse("neutral");
        trend.setDominantMood(dominantMood);
        
        long total = recentMoods.size();
        for (Map.Entry<String, Long> entry : moodCounts.entrySet()) trend.addMoodCount(entry.getKey(), (double) entry.getValue() / total);
        
        trend.setTrendDirection(determineTrendDirection(recentMoods));
        return trend;
    }
    
    private String determineTrendDirection(List<MoodEntry> moods) {
        if (moods.size() < 3) return "insufficient_data";
        int mid = moods.size() / 2;
        double firstAvg = moods.subList(0, mid).stream().mapToDouble(this::moodToScore).average().orElse(0.5);
        double secondAvg = moods.subList(mid, moods.size()).stream().mapToDouble(this::moodToScore).average().orElse(0.5);
        double diff = secondAvg - firstAvg;
        if (diff > 0.15) return "improving";
        else if (diff < -0.15) return "declining";
        return "stable";
    }
    
    private double moodToScore(MoodEntry entry) {
        String mood = entry.getMood().toLowerCase();
        Set<String> positiveMoods = new HashSet<>(Arrays.asList("happy", "excited", "grateful", "content", "hopeful", "inspired", "confident", "peaceful", "relaxed", "joyful"));
        Set<String> negativeMoods = new HashSet<>(Arrays.asList("sad", "angry", "anxious", "stressed", "frustrated", "lonely", "overwhelmed", "hopeless", "hurt", "scared"));
        double baseScore = 0.5;
        if (positiveMoods.contains(mood)) baseScore = 0.7;
        else if (negativeMoods.contains(mood)) baseScore = 0.3;
        return baseScore * entry.getIntensity();
    }
    
    public List<MoodPattern> detectPatterns(int days) {
        List<MoodPattern> patterns = new ArrayList<>();
        List<MoodEntry> moods = getMoodHistory(LocalDate.now().minusDays(days), LocalDate.now());
        if (moods.size() < 3) return patterns;
        
        Map<DayOfWeek, List<MoodEntry>> byDay = new HashMap<>();
        for (MoodEntry entry : moods) byDay.computeIfAbsent(entry.getTimestamp().getDayOfWeek(), k -> new ArrayList<>()).add(entry);
        
        List<MoodEntry> mondayMoods = byDay.getOrDefault(DayOfWeek.MONDAY, new ArrayList<>());
        if (mondayMoods.size() >= 2) {
            long neg = mondayMoods.stream().filter(m -> isNegativeMood(m.getMood())).count();
            if (neg > mondayMoods.size() * 0.5) patterns.add(new MoodPattern("monday_difficulty", "Mondays tend to be difficult", (double) neg / mondayMoods.size()));
        }
        return patterns;
    }
    
    private boolean isPositiveMood(String mood) {
        return new HashSet<>(Arrays.asList("happy", "excited", "grateful", "content", "hopeful", "inspired", "confident", "peaceful", "relaxed", "joyful")).contains(mood.toLowerCase());
    }
    
    private boolean isNegativeMood(String mood) {
        return new HashSet<>(Arrays.asList("sad", "angry", "anxious", "stressed", "frustrated", "lonely", "overwhelmed", "hopeless", "hurt", "scared")).contains(mood.toLowerCase());
    }
    
    // ==================== EMOTIONAL SUPPORT ====================
    
    public String getEmotionalSupport(String mood) {
        Map<String, List<String>> supportMessages = new HashMap<>();
        supportMessages.put("sad", Arrays.asList("I'm here with you. It's okay to feel sad.", "Your feelings are valid.", "Even the darkest nights end with dawn."));
        supportMessages.put("anxious", Arrays.asList("Take a deep breath. You're safe.", "You've gotten through hard times before.", "One moment at a time."));
        supportMessages.put("stressed", Arrays.asList("I hear you - there's a lot on your mind.", "Remember to take breaks.", "You're doing the best you can."));
        supportMessages.put("angry", Arrays.asList("It's okay to feel angry.", "I hear something upset you.", "Let's work through it together."));
        supportMessages.put("frustrated", Arrays.asList("I can hear the frustration.", "It's frustrating when things don't go as planned.", "Let's find a way forward."));
        supportMessages.put("lonely", Arrays.asList("I'm here with you.", "You matter.", "Connection starts in small ways."));
        supportMessages.put("overwhelmed", Arrays.asList("Let's break this down.", "One thing at a time.", "It's okay to ask for help."));
        supportMessages.put("hopeless", Arrays.asList("Things may feel dark but this will pass.", "You matter.", "Even small steps create change."));
        supportMessages.put("happy", Arrays.asList("I'm so glad you're happy!", "That's wonderful!", "Enjoy this moment!"));
        supportMessages.put("neutral", Arrays.asList("I'm here with you.", "Thanks for sharing.", "I'm here to support you."));
        
        List<String> messages = supportMessages.getOrDefault(mood.toLowerCase(), supportMessages.get("neutral"));
        return messages.get(random.nextInt(messages.size()));
    }
    
    // ==================== COPING STRATEGIES ====================
    
    public List<CopingStrategy> getCopingStrategies(String mood) {
        List<CopingStrategy> strategies = new ArrayList<>();
        String m = mood.toLowerCase();
        
        if (m.equals("sad")) {
            strategies.add(new CopingStrategy("sad", "4-7-8 Breathing", "Breathe in 4, hold 7, out 8", CopingStrategy.StrategyType.BREATHING));
            strategies.add(new CopingStrategy("sad", "Gratitude", "Write 3 things you're grateful for", CopingStrategy.StrategyType.SELF_CARE));
            strategies.add(new CopingStrategy("sad", "Movement", "Take a short walk", CopingStrategy.StrategyType.PHYSICAL));
        }
        
        if (m.equals("anxious")) {
            strategies.add(new CopingStrategy("anxious", "Box Breathing", "4 counts in, hold, out, hold", CopingStrategy.StrategyType.BREATHING));
            strategies.add(new CopingStrategy("anxious", "Grounding", "5 things you see, 4 hear, 3 feel", CopingStrategy.StrategyType.MINDFULNESS));
            strategies.add(new CopingStrategy("anxious", "Challenge Thoughts", "Fact or assumption?", CopingStrategy.StrategyType.COGNITIVE));
        }
        
        if (m.equals("stressed")) {
            strategies.add(new CopingStrategy("stressed", "Take a Break", "Step away 5-10 minutes", CopingStrategy.StrategyType.SELF_CARE));
            strategies.add(new CopingStrategy("stressed", "List Control", "What's in/out of control", CopingStrategy.StrategyType.COGNITIVE));
            strategies.add(new CopingStrategy("stressed", "Exercise", "Release tension", CopingStrategy.StrategyType.PHYSICAL));
        }
        
        if (m.equals("angry")) {
            strategies.add(new CopingStrategy("angry", "Count to 10", "Pause before reacting", CopingStrategy.StrategyType.BREATHING));
            strategies.add(new CopingStrategy("angry", "Physical Release", "Squeeze a ball or run", CopingStrategy.StrategyType.PHYSICAL));
            strategies.add(new CopingStrategy("angry", "Reframe", "Their perspective?", CopingStrategy.StrategyType.COGNITIVE));
        }
        
        if (m.equals("overwhelmed")) {
            strategies.add(new CopingStrategy("overwhelmed", "List", "Circle 3 must-do items", CopingStrategy.StrategyType.COGNITIVE));
            strategies.add(new CopingStrategy("overwhelmed", "Pomodoro", "25 min work, 5 min break", CopingStrategy.StrategyType.SELF_CARE));
            strategies.add(new CopingStrategy("overwhelmed", "Say No", "Protect energy", CopingStrategy.StrategyType.SELF_CARE));
        }
        
        if (m.equals("lonely")) {
            strategies.add(new CopingStrategy("lonely", "Reach Out", "Text someone", CopingStrategy.StrategyType.SOCIAL));
            strategies.add(new CopingStrategy("lonely", "Self-Compassion", "Treat yourself as a friend", CopingStrategy.StrategyType.SELF_CARE));
        }
        
        if (strategies.isEmpty()) strategies.add(new CopingStrategy(mood, "Breathe", "3 deep breaths", CopingStrategy.StrategyType.BREATHING));
        
        return strategies;
    }
    
    public CopingStrategy getRandomCopingStrategy(String mood) {
        List<CopingStrategy> s = getCopingStrategies(mood);
        return s.isEmpty() ? new CopingStrategy(mood, "Breathe", "Take a moment", CopingStrategy.StrategyType.BREATHING) : s.get(random.nextInt(s.size()));
    }
    
    // ==================== MENTAL CLARITY ====================
    
    public ThoughtEntry recordThought(String thought, String category) {
        ThoughtEntry entry = new ThoughtEntry(thought, category);
        thoughtHistory.add(entry);
        if (thoughtHistory.size() > maxHistorySize) thoughtHistory.remove(0);
        return entry;
    }
    
    public List<ThoughtEntry> getThoughtHistory() { return new ArrayList<>(thoughtHistory); }
    
    public List<ThoughtEntry> getThoughtsByCategory(String category) {
        List<ThoughtEntry> result = new ArrayList<>();
        for (ThoughtEntry e : thoughtHistory) if (e.getCategory().equalsIgnoreCase(category)) result.add(e);
        return result;
    }
    
    public Map<String, List<String>> organizeThoughts(List<String> thoughts) {
        Map<String, List<String>> organized = new LinkedHashMap<>();
        organized.put("worries", new ArrayList<>());
        organized.put("goals", new ArrayList<>());
        organized.put("ideas", new ArrayList<>());
        organized.put("gratitude", new ArrayList<>());
        organized.put("questions", new ArrayList<>());
        
        for (String thought : thoughts) {
            String lower = thought.toLowerCase();
            if (lower.contains("worri") || lower.contains("concern")) organized.get("worries").add(thought);
            else if (lower.contains("want") || lower.contains("goal") || lower.contains("need")) organized.get("goals").add(thought);
            else if (lower.contains("idea") || lower.contains("think")) organized.get("ideas").add(thought);
            else if (lower.contains("thank") || lower.contains("grateful")) organized.get("gratitude").add(thought);
            else if (lower.contains("?")) organized.get("questions").add(thought);
        }
        return organized;
    }
    
    public PerspectiveView getAlternativePerspectives(String situation) {
        PerspectiveView view = new PerspectiveView(situation);
        view.addAlternativeView("What would this look like in 5 years?");
        view.addAlternativeView("What would you tell your best friend?");
        view.addAlternativeView("What are 3 other ways to see this?");
        view.addAlternativeView("What would you do if you couldn't fail?");
        return view;
    }
    
    public String getClarityQuestion(String topic) {
        Map<String, List<String>> questions = new HashMap<>();
        questions.put("career", Arrays.asList("What truly motivates you?", "What would you do if money wasn't concern?", "What skills do you want to develop?"));
        questions.put("relationships", Arrays.asList("What do you need?", "What boundaries are important?", "Are you giving and receiving equally?"));
        questions.put("personal", Arrays.asList("What's holding you back?", "What's your ideal day?", "What are you avoiding?"));
        
        List<String> q = questions.getOrDefault(topic.toLowerCase(), Arrays.asList("What truly matters?", "What would bring peace?", "What are you grateful for?"));
        return q.get(random.nextInt(q.size()));
    }
    
    public DecisionSupport analyzeDecision(String decision) {
        DecisionSupport ds = new DecisionSupport(decision);
        ds.addQuestion("What are the pros and cons?");
        ds.addQuestion("How will you feel in 1 year?");
        ds.addQuestion("Does this align with values?");
        ds.addQuestion("What if you didn't decide?");
        ds.addPro("Taking action creates opportunities");
        ds.addPro("You'll learn from experience");
        return ds;
    }
    
    public String getRecommendation(String decision, List<String> pros, List<String> cons) {
        if (pros.size() > cons.size()) return "Your pros outweigh cons. Trust yourself!";
        else if (cons.size() > pros.size()) return "More cons - consider gathering more info.";
        else return "Balanced. Trust your intuition.";
    }
    
    // ==================== LIFE BALANCE - ENERGY MANAGEMENT ====================
    
    public EnergyEntry trackEnergy(EnergyEntry.EnergyLevel level) {
        EnergyEntry entry = new EnergyEntry(level);
        energyHistory.add(entry);
        if (energyHistory.size() > maxHistorySize) energyHistory.remove(0);
        return entry;
    }
    
    public EnergyEntry trackEnergy(EnergyEntry.EnergyLevel level, String reason) {
        EnergyEntry entry = new EnergyEntry(level, reason);
        energyHistory.add(entry);
        if (energyHistory.size() > maxHistorySize) energyHistory.remove(0);
        return entry;
    }
    
    public List<EnergyEntry> getEnergyHistory() { return new ArrayList<>(energyHistory); }
    
    public List<EnergyEntry> getTodaysEnergy() {
        LocalDate today = LocalDate.now();
        List<EnergyEntry> result = new ArrayList<>();
        for (EnergyEntry e : energyHistory) {
            if (e.getDate().equals(today)) result.add(e);
        }
        return result;
    }
    
    public EnergyEntry.EnergyLevel getAverageEnergy() {
        if (energyHistory.isEmpty()) return EnergyEntry.EnergyLevel.MODERATE;
        
        double avg = energyHistory.stream().mapToDouble(e -> e.getLevel().getValue()).average().orElse(0.6);
        
        if (avg < 0.3) return EnergyEntry.EnergyLevel.VERY_LOW;
        if (avg < 0.5) return EnergyEntry.EnergyLevel.LOW;
        if (avg < 0.7) return EnergyEntry.EnergyLevel.MODERATE;
        if (avg < 0.9) return EnergyEntry.EnergyLevel.HIGH;
        return EnergyEntry.EnergyLevel.VERY_HIGH;
    }
    
    public String getEnergyInsight() {
        EnergyEntry.EnergyLevel avg = getAverageEnergy();
        
        if (avg == EnergyEntry.EnergyLevel.VERY_LOW || avg == EnergyEntry.EnergyLevel.LOW) {
            String[] tips = {
                "Your energy is low. Consider taking breaks and resting.",
                "Prioritize sleep and nutrition to restore energy.",
                "It's okay to do less when you're low on energy."
            };
            return tips[random.nextInt(tips.length)];
        } else if (avg == EnergyEntry.EnergyLevel.HIGH || avg == EnergyEntry.EnergyLevel.VERY_HIGH) {
            String[] tips = {
                "You have great energy! Great time for challenging tasks.",
                "Use this energy to tackle important projects.",
                "Your high energy is a gift - make the most of it!"
            };
            return tips[random.nextInt(tips.length)];
        } else {
            return "Your energy is balanced. Maintain this with good self-care.";
        }
    }
    
    // ==================== LIFE BALANCE - PRIORITY REFLECTION ====================
    
    public PriorityEntry addPriority(String priority, int rank) {
        PriorityEntry entry = new PriorityEntry(priority, rank);
        priorities.add(entry);
        return entry;
    }
    
    public PriorityEntry addPriority(String priority, int rank, String reason) {
        PriorityEntry entry = new PriorityEntry(priority, rank);
        entry.setReason(reason);
        priorities.add(entry);
        return entry;
    }
    
    public List<PriorityEntry> getPriorities() { 
        return priorities.stream().sorted(Comparator.comparingInt(PriorityEntry::getRank)).collect(java.util.stream.Collectors.toList());
    }
    
    public void completePriority(int rank) {
        for (PriorityEntry p : priorities) {
            if (p.getRank() == rank) {
                p.setCompleted(true);
                break;
            }
        }
    }
    
    public void clearCompletedPriorities() {
        priorities.removeIf(PriorityEntry::isCompleted);
    }
    
    public String getPriorityReflection() {
        List<PriorityEntry> active = priorities.stream().filter(p -> !p.isCompleted()).collect(java.util.stream.Collectors.toList());
        
        if (active.isEmpty()) return "No active priorities. Take time to reflect on what matters most.";
        
        StringBuilder sb = new StringBuilder();
        sb.append("Your priorities:\n");
        for (PriorityEntry p : active) {
            sb.append(p.getRank()).append(". ").append(p.getPriority());
            if (!p.getReason().isEmpty()) sb.append(" (").append(p.getReason()).append(")");
            sb.append("\n");
        }
        
        // Reflection questions
        String[] reflections = {
            "Are these truly your priorities, or what others expect?",
            "What would happen if this wasn't a priority?",
            "Does pursuing these align with your values?"
        };
        
        sb.append("\nReflection: ").append(reflections[random.nextInt(reflections.length)]);
        
        return sb.toString();
    }
    
    // ==================== LIFE BALANCE - WELLNESS REMINDERS ====================
    
    public List<WellnessReminder> getWellnessReminders() {
        List<WellnessReminder> reminders = new ArrayList<>();
        
        reminders.add(new WellnessReminder("Time for a short break! Stand up and stretch.", WellnessReminder.ReminderType.BREAK));
        reminders.add(new WellnessReminder("Have you had enough water today?", WellnessReminder.ReminderType.HYDRATION));
        reminders.add(new WellnessReminder("Take a moment to breathe deeply.", WellnessReminder.ReminderType.MINDFULNESS));
        reminders.add(new WellnessReminder("How's your energy? Take a break if needed.", WellnessReminder.ReminderType.ENERGY));
        reminders.add(new WellnessReminder("Remember to move your body - even a quick stretch helps!", WellnessReminder.ReminderType.MOVEMENT));
        reminders.add(new WellnessReminder("Connect with someone - reach out to a friend!", WellnessReminder.ReminderType.SOCIAL));
        reminders.add(new WellnessReminder("Prioritize rest. Your well-being matters.", WellnessReminder.ReminderType.SLEEP));
        reminders.add(new WellnessReminder("Do something kind for yourself today.", WellnessReminder.ReminderType.SELF_CARE));
        
        return reminders;
    }
    
    public WellnessReminder getRandomReminder() {
        List<WellnessReminder> reminders = getWellnessReminders();
        return reminders.get(random.nextInt(reminders.size()));
    }
    
    public List<WellnessReminder> getRemindersByType(WellnessReminder.ReminderType type) {
        List<WellnessReminder> result = new ArrayList<>();
        for (WellnessReminder r : getWellnessReminders()) {
            if (r.getType() == type) result.add(r);
        }
        return result;
    }
    
    public String getDailyWellnessTip() {
        String[] tips = {
            "Start your day with intention - set one main goal.",
            "Take breaks throughout the day to maintain energy.",
            "Practice gratitude - note 3 things you're thankful for.",
            "Connect with someone you care about.",
            "Move your body in a way that feels good.",
            "Get adequate sleep - it's essential for wellness.",
            "Drink plenty of water throughout the day.",
            "Take deep breaths when feeling stressed.",
            "Set boundaries to protect your energy.",
            "Celebrate small wins - they add up!"
        };
        return tips[random.nextInt(tips.length)];
    }
    
    // ==================== SUMMARY METHODS ====================
    
    public String getWeeklySummary() {
        MoodTrend trend = analyzeTrend(7);
        return "Weekly Summary:\n- Dominant mood: " + trend.getDominantMood() + "\n- Trend: " + trend.getTrendDirection();
    }
    
    public String getMonthlySummary() {
        MoodTrend trend = analyzeTrend(30);
        return "Monthly Summary:\n- Dominant mood: " + trend.getDominantMood() + "\n- Trend: " + trend.getTrendDirection();
    }
    
    public String getLifeBalanceSummary() {
        StringBuilder sb = new StringBuilder();
        sb.append("Life Balance Summary:\n");
        
        // Energy
        sb.append("- Energy: ").append(getAverageEnergy().getName()).append("\n");
        sb.append("  Insight: ").append(getEnergyInsight()).append("\n");
        
        // Priorities
        List<PriorityEntry> active = priorities.stream().filter(p -> !p.isCompleted()).collect(java.util.stream.Collectors.toList());
        sb.append("- Active Priorities: ").append(active.size()).append("\n");
        
        // Daily tip
        sb.append("- Daily Tip: ").append(getDailyWellnessTip());
        
        return sb.toString();
    }
    
    public void clearHistory() {
        moodHistory.clear();
        thoughtHistory.clear();
        energyHistory.clear();
        priorities.clear();
    }
    
    public int getMoodEntryCount() { return moodHistory.size(); }
}
</parameter>
